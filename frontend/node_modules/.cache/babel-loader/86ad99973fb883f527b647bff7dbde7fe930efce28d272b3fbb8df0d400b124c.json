{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Calendar, PieChart } from '@element-plus/icons-vue';\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nexport default {\n  __name: 'EducationalAdmin',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const loading = ref(true);\n    const recentTasks = ref([]);\n\n    // 导航到材料任务页面\n    const navigateToMaterialTasks = () => {\n      router.push('/admin/material-tasks');\n    };\n\n    // 导航到统计分析页面\n    const navigateToStatistics = () => {\n      router.push('/admin/material-statistics');\n    };\n\n    // 获取最近的任务\n    const fetchRecentTasks = async () => {\n      loading.value = true;\n      try {\n        const response = await axios.get('/api/admin/material-task/recent');\n        if (response.data.code === 200) {\n          recentTasks.value = response.data.data || [];\n        } else {\n          ElMessage.error(response.data.message || '获取最近任务失败');\n        }\n      } catch (error) {\n        console.error('获取最近任务出错:', error);\n        ElMessage.error('获取最近任务失败，请稍后重试');\n      } finally {\n        loading.value = false;\n      }\n    };\n    onMounted(() => {\n      fetchRecentTasks();\n    });\n    const __returned__ = {\n      router,\n      loading,\n      recentTasks,\n      navigateToMaterialTasks,\n      navigateToStatistics,\n      fetchRecentTasks,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get Calendar() {\n        return Calendar;\n      },\n      get PieChart() {\n        return PieChart;\n      },\n      get axios() {\n        return axios;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","Calendar","PieChart","axios","ElMessage","router","loading","recentTasks","navigateToMaterialTasks","push","navigateToStatistics","fetchRecentTasks","value","response","get","data","code","error","message","console"],"sources":["C:/Users/18083/Desktop/CCIT/TCRSystem/TCRSystem/frontend/src/views/admin/EducationalAdmin.vue"],"sourcesContent":["<template>\r\n  <div class=\"educational-admin\">\r\n    <h1 class=\"page-title\">教务管理</h1>\r\n    \r\n    <div class=\"card-container\">\r\n      <!-- 教学材料任务管理卡片 -->\r\n      <el-card class=\"task-card\" @click=\"navigateToMaterialTasks\">\r\n        <div class=\"card-content\">\r\n          <el-icon class=\"card-icon\"><Calendar /></el-icon>\r\n          <div class=\"card-text\">\r\n            <h2>教学材料任务管理</h2>\r\n            <p>发布教师上传课程教学大纲、授课计划等教学材料的任务</p>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n      \r\n      <!-- 统计分析卡片 -->\r\n      <el-card class=\"statistics-card\" @click=\"navigateToStatistics\">\r\n        <div class=\"card-content\">\r\n          <el-icon class=\"card-icon\"><PieChart /></el-icon>\r\n          <div class=\"card-text\">\r\n            <h2>统计与分析</h2>\r\n            <p>统计与分析未上传对应教学材料的教师情况</p>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    \r\n    <!-- 最近发布的任务列表 -->\r\n    <el-card class=\"recent-tasks-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>最近发布的任务</span>\r\n        </div>\r\n      </template>\r\n      <div v-if=\"loading\" class=\"loading-container\">\r\n        <el-skeleton :rows=\"3\" animated />\r\n      </div>\r\n      <div v-else-if=\"recentTasks.length === 0\" class=\"empty-data\">\r\n        <el-empty description=\"暂无任务\" />\r\n      </div>\r\n      <el-table v-else :data=\"recentTasks\" style=\"width: 100%\">\r\n        <el-table-column prop=\"title\" label=\"任务标题\" width=\"250\"></el-table-column>\r\n        <el-table-column prop=\"materialTypeName\" label=\"材料类型\"></el-table-column>\r\n        <el-table-column prop=\"courseName\" label=\"课程\"></el-table-column>\r\n        <el-table-column prop=\"academicYear\" label=\"学年\"></el-table-column>\r\n        <el-table-column prop=\"semester\" label=\"学期\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.semester === 1 ? '第一学期' : '第二学期' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"deadline\" label=\"截止日期\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"scope.row.status === 1 ? 'success' : (scope.row.status === 0 ? 'warning' : 'danger')\">\r\n              {{ scope.row.status === 1 ? '进行中' : (scope.row.status === 0 ? '未开始' : '已结束') }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { Calendar, PieChart } from '@element-plus/icons-vue';\r\nimport axios from 'axios';\r\nimport { ElMessage } from 'element-plus';\r\n\r\nconst router = useRouter();\r\nconst loading = ref(true);\r\nconst recentTasks = ref([]);\r\n\r\n// 导航到材料任务页面\r\nconst navigateToMaterialTasks = () => {\r\n  router.push('/admin/material-tasks');\r\n};\r\n\r\n// 导航到统计分析页面\r\nconst navigateToStatistics = () => {\r\n  router.push('/admin/material-statistics');\r\n};\r\n\r\n// 获取最近的任务\r\nconst fetchRecentTasks = async () => {\r\n  loading.value = true;\r\n  try {\r\n    const response = await axios.get('/api/admin/material-task/recent');\r\n    if (response.data.code === 200) {\r\n      recentTasks.value = response.data.data || [];\r\n    } else {\r\n      ElMessage.error(response.data.message || '获取最近任务失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取最近任务出错:', error);\r\n    ElMessage.error('获取最近任务失败，请稍后重试');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchRecentTasks();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.educational-admin {\r\n  padding: 20px;\r\n}\r\n\r\n.page-title {\r\n  margin-bottom: 30px;\r\n  font-size: 24px;\r\n  color: #303133;\r\n}\r\n\r\n.card-container {\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.task-card, .statistics-card {\r\n  flex: 1;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  min-height: 150px;\r\n}\r\n\r\n.task-card:hover, .statistics-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.card-content {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.card-icon {\r\n  font-size: 48px;\r\n  margin-right: 20px;\r\n  color: #409EFF;\r\n}\r\n\r\n.card-text h2 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 18px;\r\n  color: #303133;\r\n}\r\n\r\n.card-text p {\r\n  margin: 0;\r\n  color: #606266;\r\n}\r\n\r\n.recent-tasks-card {\r\n  margin-top: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.loading-container, .empty-data {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 30px 0;\r\n}\r\n\r\n.task-card {\r\n  background-color: #ecf5ff;\r\n  border-color: #d9ecff;\r\n}\r\n\r\n.statistics-card {\r\n  background-color: #f0f9eb;\r\n  border-color: #e1f3d8;\r\n}\r\n</style> "],"mappings":"AAiEA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,yBAAyB;AAC5D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,cAAc;;;;;;;IAExC,MAAMC,MAAM,GAAGL,SAAS,CAAC,CAAC;IAC1B,MAAMM,OAAO,GAAGR,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMS,WAAW,GAAGT,GAAG,CAAC,EAAE,CAAC;;IAE3B;IACA,MAAMU,uBAAuB,GAAGA,CAAA,KAAM;MACpCH,MAAM,CAACI,IAAI,CAAC,uBAAuB,CAAC;IACtC,CAAC;;IAED;IACA,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;MACjCL,MAAM,CAACI,IAAI,CAAC,4BAA4B,CAAC;IAC3C,CAAC;;IAED;IACA,MAAME,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnCL,OAAO,CAACM,KAAK,GAAG,IAAI;MACpB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,iCAAiC,CAAC;QACnE,IAAID,QAAQ,CAACE,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;UAC9BT,WAAW,CAACK,KAAK,GAAGC,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;QAC9C,CAAC,MAAM;UACLX,SAAS,CAACa,KAAK,CAACJ,QAAQ,CAACE,IAAI,CAACG,OAAO,IAAI,UAAU,CAAC;QACtD;MACF,CAAC,CAAC,OAAOD,KAAK,EAAE;QACdE,OAAO,CAACF,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjCb,SAAS,CAACa,KAAK,CAAC,gBAAgB,CAAC;MACnC,CAAC,SAAS;QACRX,OAAO,CAACM,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;IAEDb,SAAS,CAAC,MAAM;MACdY,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}