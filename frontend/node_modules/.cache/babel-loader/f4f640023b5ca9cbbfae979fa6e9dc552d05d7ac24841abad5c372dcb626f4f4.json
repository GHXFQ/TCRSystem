{"ast":null,"code":"import { createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"header-right\"\n};\nconst _hoisted_2 = {\n  class: \"el-dropdown-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createBlock(_component_el_container, {\n    class: \"layout-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_aside, {\n      width: \"200px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_menu, {\n        router: true,\n        \"default-active\": _ctx.$route.path,\n        class: \"el-menu-vertical\",\n        \"background-color\": \"#304156\",\n        \"text-color\": \"#bfcbd9\",\n        \"active-text-color\": \"#409EFF\"\n      }, {\n        default: _withCtx(() => [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n          class: \"logo-container\"\n        }, [_createElementVNode(\"h1\", {\n          class: \"logo-text\"\n        }, \"学生端\")], -1 /* HOISTED */)), _createVNode(_component_el_menu_item, {\n          index: \"/student/home\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"HomeFilled\"])]),\n            _: 1 /* STABLE */\n          }), _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"首页\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/student/courses\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Reading\"])]),\n            _: 1 /* STABLE */\n          }), _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"我的课程\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/student/materials\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n            _: 1 /* STABLE */\n          }), _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"课程资料\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/student/feedback\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"ChatDotRound\"])]),\n            _: 1 /* STABLE */\n          }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"课程反馈\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/student/assignments\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Calendar\"])]),\n            _: 1 /* STABLE */\n          }), _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"课程作业\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"default-active\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [_createVNode(_component_el_header, null, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_dropdown, {\n          onCommand: $setup.handleCommand\n        }, {\n          dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n            default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n              command: \"profile\"\n            }, {\n              default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"个人信息\")])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_el_dropdown_item, {\n              command: \"logout\"\n            }, {\n              default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"退出登录\")])),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_2, [_createTextVNode(_toDisplayString($setup.userInfo?.realName || '用户') + \" \", 1 /* TEXT */), _createVNode(_component_el_icon, {\n            class: \"el-icon--right\"\n          }, {\n            default: _withCtx(() => [_createVNode($setup[\"ArrowDown\"])]),\n            _: 1 /* STABLE */\n          })])]),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_main, null, {\n        default: _withCtx(() => [_createVNode(_component_router_view)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_el_container","default","_withCtx","_createVNode","_component_el_aside","width","_component_el_menu","router","_ctx","$route","path","_createElementVNode","_component_el_menu_item","index","_component_el_icon","$setup","_","_component_el_header","_hoisted_1","_component_el_dropdown","onCommand","handleCommand","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","command","_cache","_createTextVNode","_hoisted_2","_toDisplayString","userInfo","realName","_component_el_main","_component_router_view"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\TCRSystem\\TCRSystem\\frontend\\src\\layouts\\StudentLayout.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <el-container class=\"layout-container\">\n    <el-aside width=\"200px\">\n      <el-menu\n        :router=\"true\"\n        :default-active=\"$route.path\"\n        class=\"el-menu-vertical\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n      >\n        <div class=\"logo-container\">\n          <h1 class=\"logo-text\">学生端</h1>\n        </div>\n        <el-menu-item index=\"/student/home\">\n          <el-icon><HomeFilled /></el-icon>\n          <span>首页</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/courses\">\n          <el-icon><Reading /></el-icon>\n          <span>我的课程</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/materials\">\n          <el-icon><Document /></el-icon>\n          <span>课程资料</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/feedback\">\n          <el-icon><ChatDotRound /></el-icon>\n          <span>课程反馈</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/assignments\">\n          <el-icon><Calendar /></el-icon>\n          <span>课程作业</span>\n        </el-menu-item>\n      </el-menu>\n    </el-aside>\n    <el-container>\n      <el-header>\n        <div class=\"header-right\">\n          <el-dropdown @command=\"handleCommand\">\n            <span class=\"el-dropdown-link\">\n              {{ userInfo?.realName || '用户' }}\n              <el-icon class=\"el-icon--right\"><ArrowDown /></el-icon>\n            </span>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\n                <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </div>\n      </el-header>\n      <el-main>\n        <router-view />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\nimport { HomeFilled, Reading, Document, ChatDotRound, ArrowDown, Calendar } from '@element-plus/icons-vue'\n\nconst router = useRouter()\n\nconst userInfo = ref(JSON.parse(localStorage.getItem('userInfo') || '{}'))\n\nconst handleCommand = async (command) => {\n  if (command === 'profile') {\n    // 跳转到个人信息页面\n    router.push('/profile')\n  } else if (command === 'logout') {\n    try {\n      // 发送退出登录请求\n      await axios.post('/api/user/logout', null, {\n        headers: { Authorization: localStorage.getItem('token') }\n      })\n      \n      // 清除本地存储的用户信息和token\n      localStorage.removeItem('token')\n      localStorage.removeItem('userInfo')\n      \n      ElMessage.success('退出成功')\n      router.push('/login')\n    } catch (error) {\n      console.error('退出失败:', error)\n      \n      // 即使请求失败，也清除本地存储并跳转到登录页\n      localStorage.removeItem('token')\n      localStorage.removeItem('userInfo')\n      router.push('/login')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.layout-container {\n  height: 100vh;\n\n  .el-aside {\n    background-color: #304156;\n    \n    .logo-container {\n      height: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      \n      .logo-text {\n        color: #fff;\n        font-size: 18px;\n        margin: 0;\n      }\n    }\n    \n    .el-menu {\n      border-right: none;\n    }\n  }\n\n  .el-header {\n    background-color: #fff;\n    border-bottom: 1px solid #dcdfe6;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0 20px;\n\n    .header-right {\n      .el-dropdown-link {\n        cursor: pointer;\n        color: #409eff;\n      }\n    }\n  }\n\n  .el-main {\n    background-color: #f0f2f5;\n    padding: 20px;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}