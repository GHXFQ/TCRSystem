{"ast":null,"code":"import { createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"header-right\"\n};\nconst _hoisted_2 = {\n  class: \"el-dropdown-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createBlock(_component_el_container, {\n    class: \"layout-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_aside, {\n      width: \"200px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_menu, {\n        router: true,\n        \"default-active\": $setup.activeMenu,\n        class: \"el-menu-vertical\",\n        \"background-color\": \"#304156\",\n        \"text-color\": \"#bfcbd9\",\n        \"active-text-color\": \"#409EFF\"\n      }, {\n        default: _withCtx(() => [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n          class: \"logo-container\"\n        }, [_createElementVNode(\"h1\", {\n          class: \"logo-text\"\n        }, \"管理员端\")], -1 /* HOISTED */)), _createVNode(_component_el_menu_item, {\n          index: \"/admin/home\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"HomeFilled\"])]),\n            _: 1 /* STABLE */\n          }), _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"首页\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/admin/users\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"User\"])]),\n            _: 1 /* STABLE */\n          }), _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"用户管理\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/admin/courses\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Reading\"])]),\n            _: 1 /* STABLE */\n          }), _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"课程管理\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/admin/material-review\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Document\"])]),\n            _: 1 /* STABLE */\n          }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"材料审核\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"/admin/educational-admin\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"School\"])]),\n            _: 1 /* STABLE */\n          }), _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"教务管理\", -1 /* HOISTED */))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"default-active\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [_createVNode(_component_el_header, null, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_dropdown, {\n          onCommand: $setup.handleCommand\n        }, {\n          dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n            default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n              command: \"profile\"\n            }, {\n              default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"个人信息\")])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_el_dropdown_item, {\n              command: \"logout\"\n            }, {\n              default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"退出登录\")])),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_2, [_createTextVNode(_toDisplayString($setup.username) + \" \", 1 /* TEXT */), _createVNode(_component_el_icon, {\n            class: \"el-icon--right\"\n          }, {\n            default: _withCtx(() => [_createVNode($setup[\"ArrowDown\"])]),\n            _: 1 /* STABLE */\n          })])]),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_main, null, {\n        default: _withCtx(() => [_createVNode(_component_router_view)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_el_container","default","_withCtx","_createVNode","_component_el_aside","width","_component_el_menu","router","$setup","activeMenu","_createElementVNode","_component_el_menu_item","index","_component_el_icon","_","_component_el_header","_hoisted_1","_component_el_dropdown","onCommand","handleCommand","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","command","_cache","_createTextVNode","_hoisted_2","_toDisplayString","username","_component_el_main","_component_router_view"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\TCRSystem\\TCRSystem\\frontend\\src\\layouts\\AdminLayout.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <el-container class=\"layout-container\">\r\n    <el-aside width=\"200px\">\r\n      <el-menu\r\n        :router=\"true\"\r\n        :default-active=\"activeMenu\"\r\n        class=\"el-menu-vertical\"\r\n        background-color=\"#304156\"\r\n        text-color=\"#bfcbd9\"\r\n        active-text-color=\"#409EFF\"\r\n      >\r\n        <div class=\"logo-container\">\r\n          <h1 class=\"logo-text\">管理员端</h1>\r\n        </div>\r\n        <el-menu-item index=\"/admin/home\">\r\n          <el-icon><HomeFilled /></el-icon>\r\n          <span>首页</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/users\">\r\n          <el-icon><User /></el-icon>\r\n          <span>用户管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/courses\">\r\n          <el-icon><Reading /></el-icon>\r\n          <span>课程管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/material-review\">\r\n          <el-icon><Document /></el-icon>\r\n          <span>材料审核</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/educational-admin\">\r\n          <el-icon><School /></el-icon>\r\n          <span>教务管理</span>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-header>\r\n        <div class=\"header-right\">\r\n          <el-dropdown @command=\"handleCommand\">\r\n            <span class=\"el-dropdown-link\">\r\n              {{ username }}\r\n              <el-icon class=\"el-icon--right\"><ArrowDown /></el-icon>\r\n            </span>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\r\n                <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      <el-main>\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport axios from 'axios'\r\nimport { HomeFilled, User, Reading, Document, ArrowDown, School } from '@element-plus/icons-vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst store = useStore()\r\n\r\nconst username = computed(() => store.state.user?.username || '管理员')\r\nconst activeMenu = computed(() => route.path)\r\n\r\nconst handleCommand = async (command) => {\r\n  if (command === 'profile') {\r\n    // 跳转到个人信息页面\r\n    router.push('/profile')\r\n  } else if (command === 'logout') {\r\n    try {\r\n      // 发送退出登录请求\r\n      await axios.post('/api/user/logout', null, {\r\n        headers: { Authorization: localStorage.getItem('token') }\r\n      })\r\n      \r\n      // 清除本地存储的用户信息和token\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('userInfo')\r\n      \r\n      ElMessage.success('退出成功')\r\n      router.push('/login')\r\n    } catch (error) {\r\n      console.error('退出失败:', error)\r\n      \r\n      // 即使请求失败，也清除本地存储并跳转到登录页\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('userInfo')\r\n      router.push('/login')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.layout-container {\r\n  height: 100vh;\r\n\r\n  .el-aside {\r\n    background-color: #304156;\r\n    \r\n    .logo-container {\r\n      height: 60px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      \r\n      .logo-text {\r\n        color: #fff;\r\n        font-size: 18px;\r\n        margin: 0;\r\n      }\r\n    }\r\n    \r\n    .el-menu {\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  .el-header {\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #dcdfe6;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    padding: 0 20px;\r\n\r\n    .header-right {\r\n      .el-dropdown-link {\r\n        cursor: pointer;\r\n        color: #409eff;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-main {\r\n    background-color: #f0f2f5;\r\n    padding: 20px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}