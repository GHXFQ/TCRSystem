{"ast":null,"code":"/**\r\n * 全局自定义指令\r\n */\nimport { safeElementConfig } from './resizeObserverFix';\n\n/**\r\n * 注册全局指令\r\n * @param {*} app Vue应用实例\r\n */\nexport const registerDirectives = app => {\n  // 安全的Element Plus组件配置指令\n  app.directive('safe-element', {\n    mounted(el) {\n      // 如果组件有__vcomponent属性，说明是Element Plus组件\n      if (el.__vcomponent) {\n        const component = el.__vcomponent;\n\n        // 为组件应用安全配置\n        if (component.props) {\n          // 应用teleported配置\n          if ('teleported' in component.props) {\n            component.props.teleported = safeElementConfig.teleported;\n          }\n\n          // 应用destroyOnClose配置\n          if ('destroyOnClose' in component.props) {\n            component.props.destroyOnClose = safeElementConfig.destroyOnClose;\n          }\n\n          // 应用popperOptions配置\n          if ('popperOptions' in component.props) {\n            component.props.popperOptions = safeElementConfig.popperOptions;\n          }\n        }\n      }\n    }\n  });\n};","map":{"version":3,"names":["safeElementConfig","registerDirectives","app","directive","mounted","el","__vcomponent","component","props","teleported","destroyOnClose","popperOptions"],"sources":["C:/Users/18083/Desktop/CCIT/TCRSystem/TCRSystem/frontend/src/utils/directives.js"],"sourcesContent":["/**\r\n * 全局自定义指令\r\n */\r\nimport { safeElementConfig } from './resizeObserverFix';\r\n\r\n/**\r\n * 注册全局指令\r\n * @param {*} app Vue应用实例\r\n */\r\nexport const registerDirectives = (app) => {\r\n  // 安全的Element Plus组件配置指令\r\n  app.directive('safe-element', {\r\n    mounted(el) {\r\n      // 如果组件有__vcomponent属性，说明是Element Plus组件\r\n      if (el.__vcomponent) {\r\n        const component = el.__vcomponent;\r\n        \r\n        // 为组件应用安全配置\r\n        if (component.props) {\r\n          // 应用teleported配置\r\n          if ('teleported' in component.props) {\r\n            component.props.teleported = safeElementConfig.teleported;\r\n          }\r\n          \r\n          // 应用destroyOnClose配置\r\n          if ('destroyOnClose' in component.props) {\r\n            component.props.destroyOnClose = safeElementConfig.destroyOnClose;\r\n          }\r\n          \r\n          // 应用popperOptions配置\r\n          if ('popperOptions' in component.props) {\r\n            component.props.popperOptions = safeElementConfig.popperOptions;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n}; "],"mappings":"AAAA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,qBAAqB;;AAEvD;AACA;AACA;AACA;AACA,OAAO,MAAMC,kBAAkB,GAAIC,GAAG,IAAK;EACzC;EACAA,GAAG,CAACC,SAAS,CAAC,cAAc,EAAE;IAC5BC,OAAOA,CAACC,EAAE,EAAE;MACV;MACA,IAAIA,EAAE,CAACC,YAAY,EAAE;QACnB,MAAMC,SAAS,GAAGF,EAAE,CAACC,YAAY;;QAEjC;QACA,IAAIC,SAAS,CAACC,KAAK,EAAE;UACnB;UACA,IAAI,YAAY,IAAID,SAAS,CAACC,KAAK,EAAE;YACnCD,SAAS,CAACC,KAAK,CAACC,UAAU,GAAGT,iBAAiB,CAACS,UAAU;UAC3D;;UAEA;UACA,IAAI,gBAAgB,IAAIF,SAAS,CAACC,KAAK,EAAE;YACvCD,SAAS,CAACC,KAAK,CAACE,cAAc,GAAGV,iBAAiB,CAACU,cAAc;UACnE;;UAEA;UACA,IAAI,eAAe,IAAIH,SAAS,CAACC,KAAK,EAAE;YACtCD,SAAS,CAACC,KAAK,CAACG,aAAa,GAAGX,iBAAiB,CAACW,aAAa;UACjE;QACF;MACF;IACF;EACF,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}