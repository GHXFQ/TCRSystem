{"version":3,"file":"js/637.396a05de.js","mappings":"sWAoEA,MAAMA,GAASC,EAAAA,EAAAA,MAETC,GAAWC,EAAAA,EAAAA,IAAIC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,OAE9DC,EAAgBC,UACpB,GAAgB,YAAZC,EAEFV,EAAOW,KAAK,iBACP,GAAgB,WAAZD,EACT,UAEQE,IAAAA,KAAW,mBAAoB,KAAM,CACzCC,QAAS,CAAEC,cAAeR,aAAaC,QAAQ,YAIjDD,aAAaS,WAAW,SACxBT,aAAaS,WAAW,YAExBC,EAAAA,GAAUC,QAAQ,QAClBjB,EAAOW,KAAK,SACd,CAAE,MAAOO,GACPC,QAAQD,MAAM,QAASA,GAGvBZ,aAAaS,WAAW,SACxBT,aAAaS,WAAW,YACxBf,EAAOW,KAAK,SACd,CACF,E,o4EC3FF,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://tcr-system-frontend/./src/layouts/StudentLayout.vue","webpack://tcr-system-frontend/./src/layouts/StudentLayout.vue?2dc5"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <el-container class=\"layout-container\">\n    <el-aside width=\"200px\">\n      <el-menu\n        :router=\"true\"\n        :default-active=\"$route.path\"\n        class=\"el-menu-vertical\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n      >\n        <div class=\"logo-container\">\n          <h1 class=\"logo-text\">学生端</h1>\n        </div>\n        <el-menu-item index=\"/student/home\">\n          <el-icon><HomeFilled /></el-icon>\n          <span>首页</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/courses\">\n          <el-icon><Reading /></el-icon>\n          <span>我的课程</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/materials\">\n          <el-icon><Document /></el-icon>\n          <span>课程资料</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/feedback\">\n          <el-icon><ChatDotRound /></el-icon>\n          <span>课程反馈</span>\n        </el-menu-item>\n        <el-menu-item index=\"/student/assignments\">\n          <el-icon><Calendar /></el-icon>\n          <span>课程作业</span>\n        </el-menu-item>\n      </el-menu>\n    </el-aside>\n    <el-container>\n      <el-header>\n        <div class=\"header-right\">\n          <el-dropdown @command=\"handleCommand\">\n            <span class=\"el-dropdown-link\">\n              {{ userInfo?.realName || '用户' }}\n              <el-icon class=\"el-icon--right\"><ArrowDown /></el-icon>\n            </span>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\n                <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </div>\n      </el-header>\n      <el-main>\n        <router-view />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\nimport { HomeFilled, Reading, Document, ChatDotRound, ArrowDown, Calendar } from '@element-plus/icons-vue'\n\nconst router = useRouter()\n\nconst userInfo = ref(JSON.parse(localStorage.getItem('userInfo') || '{}'))\n\nconst handleCommand = async (command) => {\n  if (command === 'profile') {\n    // 跳转到个人信息页面\n    router.push('/profile')\n  } else if (command === 'logout') {\n    try {\n      // 发送退出登录请求\n      await axios.post('/api/user/logout', null, {\n        headers: { Authorization: localStorage.getItem('token') }\n      })\n      \n      // 清除本地存储的用户信息和token\n      localStorage.removeItem('token')\n      localStorage.removeItem('userInfo')\n      \n      ElMessage.success('退出成功')\n      router.push('/login')\n    } catch (error) {\n      console.error('退出失败:', error)\n      \n      // 即使请求失败，也清除本地存储并跳转到登录页\n      localStorage.removeItem('token')\n      localStorage.removeItem('userInfo')\n      router.push('/login')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.layout-container {\n  height: 100vh;\n\n  .el-aside {\n    background-color: #304156;\n    \n    .logo-container {\n      height: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      \n      .logo-text {\n        color: #fff;\n        font-size: 18px;\n        margin: 0;\n      }\n    }\n    \n    .el-menu {\n      border-right: none;\n    }\n  }\n\n  .el-header {\n    background-color: #fff;\n    border-bottom: 1px solid #dcdfe6;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0 20px;\n\n    .header-right {\n      .el-dropdown-link {\n        cursor: pointer;\n        color: #409eff;\n      }\n    }\n  }\n\n  .el-main {\n    background-color: #f0f2f5;\n    padding: 20px;\n  }\n}\n</style> ","import script from \"./StudentLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StudentLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StudentLayout.vue?vue&type=style&index=0&id=ff5af420&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ff5af420\"]])\n\nexport default __exports__"],"names":["router","useRouter","userInfo","ref","JSON","parse","localStorage","getItem","handleCommand","async","command","push","axios","headers","Authorization","removeItem","ElMessage","success","error","console","__exports__"],"sourceRoot":""}