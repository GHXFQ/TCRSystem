{"version":3,"file":"js/238.5fb8c95a.js","mappings":"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","sources":["webpack://tcr-system-frontend/./src/views/teacher/CourseFeedback.vue","webpack://tcr-system-frontend/./src/views/teacher/CourseFeedback.vue?270b"],"sourcesContent":["<template>\r\n  <div class=\"feedback-container\">\r\n    <h1>课程反馈管理</h1>\r\n    \r\n    <!-- 过滤器卡片 -->\r\n    <el-card class=\"filter-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>反馈过滤</span>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"选择课程\">\r\n            <el-select v-model=\"queryParams.courseId\" placeholder=\"请选择课程\" clearable @change=\"handleCourseChange\" style=\"width: 100%\">\r\n              <el-option\r\n                v-for=\"course in courseList\"\r\n                :key=\"course.id\"\r\n                :label=\"course.name\"\r\n                :value=\"course.id\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n      <div class=\"filter-info\" v-if=\"queryParams.courseId\">\r\n        <span>当前过滤：</span>\r\n        <el-tag class=\"filter-tag\" v-if=\"queryParams.courseId\">\r\n          课程：{{ courseList.find(c => c.id === queryParams.courseId)?.name }}\r\n        </el-tag>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"fetchFeedbackList\">刷新数据</el-button>\r\n        <el-button size=\"small\" @click=\"resetQuery\">重置</el-button>\r\n      </div>\r\n    </el-card>\r\n    \r\n    <!-- 创建反馈卡片 -->\r\n    <el-card class=\"add-feedback-card\" v-if=\"queryParams.courseId\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>创建新话题</span>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-form ref=\"feedbackFormRef\" :model=\"feedbackForm\" :rules=\"feedbackRules\">\r\n        <el-form-item prop=\"content\">\r\n          <el-input\r\n            v-model=\"feedbackForm.content\"\r\n            type=\"textarea\"\r\n            rows=\"3\"\r\n            placeholder=\"输入新话题内容...\"\r\n            maxlength=\"500\"\r\n            show-word-limit\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitFeedback\">发布话题</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    \r\n    <!-- 反馈列表卡片 -->\r\n    <el-card class=\"feedback-list-card\" v-loading=\"loading\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>反馈列表</span>\r\n        </div>\r\n      </template>\r\n      \r\n      <div class=\"feedback-list\" v-if=\"feedbackList.length > 0\">\r\n        <div class=\"feedback-item\" v-for=\"item in feedbackList\" :key=\"item.id\">\r\n          <div class=\"feedback-header\">\r\n            <div class=\"user-info\">\r\n              <div class=\"avatar-container\">\r\n                <div class=\"user-name-above\">用户</div>\r\n                <el-avatar :size=\"40\" :src=\"getFullAvatarUrl(item.userAvatar)\">{{ getUserDisplayName(item).charAt(0) }}</el-avatar>\r\n              </div>\r\n              <div class=\"user-name\">{{ getUserDisplayName(item) }}</div>\r\n            </div>\r\n            <div class=\"feedback-actions\">\r\n              <span class=\"feedback-time\">{{ formatDateTime(item.createTime) }}</span>\r\n              <el-button type=\"danger\" size=\"small\" v-if=\"isAdmin\" @click=\"deleteFeedback(item.id)\">删除</el-button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"feedback-content\">{{ item.content }}</div>\r\n          \r\n          <!-- 回复列表 -->\r\n          <div class=\"reply-list\" v-if=\"item.children && item.children.length > 0\">\r\n            <div class=\"reply-item\" v-for=\"reply in item.children\" :key=\"reply.id\">\r\n              <div class=\"reply-header\">\r\n                <div class=\"user-info\">\r\n                  <div class=\"avatar-container\">\r\n                    <div class=\"user-name-above\">{{ reply.userId === currentUserId ? '我' : '用户' }}</div>\r\n                    <el-avatar :size=\"30\" :src=\"getFullAvatarUrl(reply.userAvatar)\">{{ getUserDisplayName(reply).charAt(0) }}</el-avatar>\r\n                  </div>\r\n                  <div class=\"user-name\">{{ getUserDisplayName(reply) }}</div>\r\n                </div>\r\n                <div class=\"reply-actions\">\r\n                  <span class=\"reply-time\">{{ formatDateTime(reply.createTime) }}</span>\r\n                  <el-button type=\"danger\" size=\"small\" v-if=\"canDelete(reply)\" @click=\"deleteFeedback(reply.id)\">删除</el-button>\r\n                </div>\r\n              </div>\r\n              <div class=\"reply-content\">{{ reply.content }}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 回复表单 -->\r\n          <div class=\"reply-form\">\r\n            <el-input\r\n              v-model=\"replyContents[item.id]\"\r\n              type=\"textarea\"\r\n              rows=\"2\"\r\n              placeholder=\"输入回复内容...\"\r\n              maxlength=\"500\"\r\n              show-word-limit\r\n              style=\"width: 90%;\"\r\n            ></el-input>\r\n            <el-button type=\"primary\" @click=\"submitReply(item.id)\">回复</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"empty-block\" v-else>\r\n        <el-empty description=\"暂无反馈数据\"></el-empty>\r\n      </div>\r\n      \r\n      <!-- 分页器 -->\r\n      <div class=\"pagination-container\" v-if=\"total > 0\">\r\n        <el-pagination\r\n          background\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n          :page-size=\"queryParams.pageSize\"\r\n          :current-page=\"queryParams.pageNum\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\"\r\n        ></el-pagination>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport axios from 'axios'\r\n\r\n// 处理头像路径，确保使用正确的服务器地址\r\nconst getFullAvatarUrl = (path) => {\r\n  if (!path) return '';\r\n  // 如果已经是完整URL，则直接返回\r\n  if (path.startsWith('http')) {\r\n    return path;\r\n  }\r\n  // 否则拼接后端地址\r\n  return `http://localhost:8080${path}`;\r\n};\r\n\r\n// 当前用户ID\r\nconst currentUserId = ref(0)\r\n\r\n// 是否为管理员\r\nconst isAdmin = ref(false)\r\n\r\n// 课程列表\r\nconst courseList = ref([])\r\n\r\n// 反馈列表\r\nconst feedbackList = ref([])\r\n\r\n// 加载状态\r\nconst loading = ref(false)\r\n\r\n// 总数据条数\r\nconst total = ref(0)\r\n\r\n// 回复内容映射（key: 父反馈ID, value: 回复内容）\r\nconst replyContents = reactive({})\r\n\r\n// 查询参数\r\nconst queryParams = reactive({\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  courseId: undefined\r\n})\r\n\r\n// 获取当前用户信息\r\nconst getCurrentUser = () => {\r\n  try {\r\n    const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\r\n    currentUserId.value = userInfo.id\r\n    isAdmin.value = userInfo.role === 2\r\n    console.log('当前用户ID:', currentUserId.value, '角色:', userInfo.role)\r\n  } catch (error) {\r\n    console.error('获取用户信息失败:', error)\r\n  }\r\n}\r\n\r\n// 获取用户显示名称\r\nconst getUserDisplayName = (item) => {\r\n  // 调试\r\n  if (item.id && !item.userName) {\r\n    console.warn(`ID为${item.id}的${item.parentId ? '回复' : '反馈'}没有用户名`, item)\r\n  }\r\n  \r\n  return item.userName || '匿名用户'\r\n}\r\n\r\n// 格式化日期时间\r\nconst formatDateTime = (dateTimeStr) => {\r\n  if (!dateTimeStr) return ''\r\n  \r\n  try {\r\n    const date = new Date(dateTimeStr)\r\n    return date.toLocaleString('zh-CN', { \r\n      year: 'numeric', \r\n      month: '2-digit', \r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  } catch (error) {\r\n    console.error('日期格式化错误:', error)\r\n    return dateTimeStr\r\n  }\r\n}\r\n\r\n// 判断是否可以删除反馈或回复\r\nconst canDelete = (item) => {\r\n  return item.userId === currentUserId.value || isAdmin.value\r\n}\r\n\r\n// 删除反馈或回复\r\nconst deleteFeedback = async (id) => {\r\n  try {\r\n    await ElMessageBox.confirm('确定要删除这条内容吗？', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n    \r\n    const response = await axios.delete(`/api/feedback/${id}`)\r\n    if (response.data.code === 200) {\r\n      ElMessage.success('删除成功')\r\n      fetchFeedbackList() // 刷新列表\r\n    } else {\r\n      ElMessage.error(response.data.message || '删除失败')\r\n    }\r\n  } catch (error) {\r\n    if (error !== 'cancel') {\r\n      console.error('删除失败:', error)\r\n      ElMessage.error('删除失败')\r\n    }\r\n  }\r\n}\r\n\r\n// 获取课程列表\r\nconst fetchCourseList = async () => {\r\n  try {\r\n    const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\r\n    const teacherId = userInfo.id\r\n    const response = await axios.get(`/api/course/teacher/${teacherId}`)\r\n    courseList.value = response.data.data || []\r\n    \r\n    // 如果有课程，默认选择第一个\r\n    if (courseList.value.length > 0 && !queryParams.courseId) {\r\n      queryParams.courseId = courseList.value[0].id\r\n      await fetchFeedbackList()\r\n    }\r\n  } catch (error) {\r\n    console.error('获取课程列表失败:', error)\r\n    ElMessage.error('获取课程列表失败')\r\n  }\r\n}\r\n\r\n// 获取反馈列表\r\nconst fetchFeedbackList = async () => {\r\n  if (!queryParams.courseId) {\r\n    feedbackList.value = []\r\n    total.value = 0\r\n    return\r\n  }\r\n  \r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get('/api/feedback/list', {\r\n      params: queryParams\r\n    })\r\n    \r\n    console.log('反馈列表原始数据:', response.data.data);\r\n    \r\n    feedbackList.value = response.data.data.records || []\r\n    console.log('反馈列表处理后数据:', feedbackList.value);\r\n    \r\n    total.value = response.data.data.total || 0\r\n  } catch (error) {\r\n    console.error('获取反馈列表失败:', error)\r\n    ElMessage.error('获取反馈列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 重置查询条件\r\nconst resetQuery = () => {\r\n  queryParams.courseId = undefined\r\n  feedbackList.value = []\r\n  total.value = 0\r\n}\r\n\r\n// 处理课程变化\r\nconst handleCourseChange = () => {\r\n  fetchFeedbackList()\r\n}\r\n\r\n// 处理页码变化\r\nconst handleCurrentChange = (val) => {\r\n  queryParams.pageNum = val\r\n  fetchFeedbackList()\r\n}\r\n\r\n// 处理每页条数变化\r\nconst handleSizeChange = (val) => {\r\n  queryParams.pageSize = val\r\n  fetchFeedbackList()\r\n}\r\n\r\n// 提交回复\r\nconst submitReply = async (parentId) => {\r\n  const content = replyContents[parentId]\r\n  if (!content || content.trim() === '') {\r\n    ElMessage.warning('请输入回复内容')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    const response = await axios.post('/api/feedback/reply', {\r\n      content,\r\n      courseId: queryParams.courseId,\r\n      parentId\r\n    })\r\n    \r\n    if (response.data.code === 200) {\r\n      ElMessage.success('回复提交成功')\r\n      replyContents[parentId] = ''\r\n      fetchFeedbackList()\r\n    } else {\r\n      ElMessage.error(response.data.message || '回复提交失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('提交回复失败:', error)\r\n    ElMessage.error('提交回复失败')\r\n  }\r\n}\r\n\r\n// 反馈表单\r\nconst feedbackFormRef = ref(null)\r\nconst feedbackForm = reactive({\r\n  content: ''\r\n})\r\n\r\n// 表单验证规则\r\nconst feedbackRules = {\r\n  content: [\r\n    { required: true, message: '请输入反馈内容', trigger: 'blur' },\r\n    { min: 2, max: 500, message: '长度在2到500个字符之间', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\n// 提交反馈\r\nconst submitFeedback = () => {\r\n  if (!queryParams.courseId) {\r\n    ElMessage.warning('请先选择课程')\r\n    return\r\n  }\r\n  \r\n  feedbackFormRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      try {\r\n        // 调用API提交反馈\r\n        const response = await axios.post('/api/feedback/add', {\r\n          content: feedbackForm.content,\r\n          courseId: queryParams.courseId\r\n        })\r\n        \r\n        if (response.data.code === 200) {\r\n          ElMessage.success('反馈发布成功')\r\n          feedbackForm.content = '' // 清空输入框\r\n          fetchFeedbackList() // 刷新列表\r\n        } else {\r\n          ElMessage.error(response.data.message || '反馈发布失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('提交反馈失败:', error)\r\n        ElMessage.error('提交反馈失败')\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 页面加载时获取数据\r\nonMounted(() => {\r\n  getCurrentUser()\r\n  fetchCourseList()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.feedback-container {\r\n  h1 {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .filter-card {\r\n    margin-bottom: 20px;\r\n    \r\n    .filter-info {\r\n      margin-top: 10px;\r\n      font-size: 14px;\r\n      color: #606266;\r\n      \r\n      .filter-tag {\r\n        margin-left: 8px;\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .add-feedback-card {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .feedback-list-card {\r\n    .card-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n    \r\n    .feedback-list {\r\n      .feedback-item {\r\n        padding: 15px;\r\n        border-bottom: 1px solid #ebeef5;\r\n        \r\n        &:last-child {\r\n          border-bottom: none;\r\n        }\r\n        \r\n        .feedback-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n          \r\n          .user-info {\r\n            display: flex;\r\n            align-items: center;\r\n            \r\n            .avatar-container {\r\n              position: relative;\r\n              display: flex;\r\n              flex-direction: column;\r\n              align-items: center;\r\n              \r\n              .user-name-above {\r\n                font-size: 12px;\r\n                color: #606266;\r\n                margin-bottom: 5px;\r\n                white-space: nowrap;\r\n              }\r\n            }\r\n            \r\n            .user-name {\r\n              margin-left: 10px;\r\n              font-weight: bold;\r\n            }\r\n          }\r\n          \r\n          .feedback-actions {\r\n            display: flex;\r\n            align-items: center;\r\n            \r\n            .feedback-time {\r\n              color: #909399;\r\n              font-size: 12px;\r\n              margin-right: 10px;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .feedback-content {\r\n          margin-bottom: 15px;\r\n          line-height: 1.5;\r\n        }\r\n        \r\n        .reply-list {\r\n          background-color: #f5f7fa;\r\n          border-radius: 4px;\r\n          padding: 10px;\r\n          margin-bottom: 15px;\r\n          \r\n          .reply-item {\r\n            padding: 10px;\r\n            border-bottom: 1px solid #ebeef5;\r\n            \r\n            &:last-child {\r\n              border-bottom: none;\r\n            }\r\n            \r\n            .reply-header {\r\n              display: flex;\r\n              justify-content: space-between;\r\n              align-items: center;\r\n              margin-bottom: 5px;\r\n              \r\n              .user-info {\r\n                display: flex;\r\n                align-items: center;\r\n                \r\n                .avatar-container {\r\n                  position: relative;\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  align-items: center;\r\n                  \r\n                  .user-name-above {\r\n                    font-size: 12px;\r\n                    color: #606266;\r\n                    margin-bottom: 5px;\r\n                    white-space: nowrap;\r\n                  }\r\n                }\r\n                \r\n                .user-name {\r\n                  margin-left: 10px;\r\n                  font-weight: bold;\r\n                  font-size: 14px;\r\n                }\r\n              }\r\n              \r\n              .reply-actions {\r\n                display: flex;\r\n                align-items: center;\r\n                \r\n                .reply-time {\r\n                  color: #909399;\r\n                  font-size: 12px;\r\n                  margin-right: 10px;\r\n                }\r\n              }\r\n            }\r\n            \r\n            .reply-content {\r\n              margin-left: 40px;\r\n              line-height: 1.5;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .reply-form {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          \r\n          .el-button {\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .empty-block {\r\n      padding: 30px 0;\r\n    }\r\n  }\r\n  \r\n  .pagination-container {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n</style> ","import script from \"./CourseFeedback.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CourseFeedback.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CourseFeedback.vue?vue&type=style&index=0&id=f15ef3c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f15ef3c0\"]])\n\nexport default __exports__"],"names":["getFullAvatarUrl","path","startsWith","currentUserId","ref","isAdmin","courseList","feedbackList","loading","total","replyContents","reactive","queryParams","pageNum","pageSize","courseId","undefined","getCurrentUser","userInfo","JSON","parse","localStorage","getItem","value","id","role","console","log","error","getUserDisplayName","item","userName","warn","parentId","formatDateTime","dateTimeStr","date","Date","toLocaleString","year","month","day","hour","minute","canDelete","userId","deleteFeedback","async","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","response","axios","data","code","ElMessage","success","fetchFeedbackList","message","fetchCourseList","teacherId","length","params","records","resetQuery","handleCourseChange","handleCurrentChange","val","handleSizeChange","submitReply","content","trim","warning","feedbackFormRef","feedbackForm","feedbackRules","required","trigger","min","max","submitFeedback","validate","valid","onMounted","__exports__"],"sourceRoot":""}