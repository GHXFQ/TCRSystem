{"version":3,"file":"js/916.90051f51.js","mappings":"6WAqEA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MAERC,GAAWC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,MAAMC,MAAMH,UAAY,QACxDI,GAAaH,EAAAA,EAAAA,KAAS,IAAML,EAAMS,OAElCC,EAAgBC,UACpB,GAAgB,YAAZC,EAEFd,EAAOe,KAAK,iBACP,GAAgB,WAAZD,EACT,UAEQE,IAAAA,KAAW,mBAAoB,KAAM,CACzCC,QAAS,CAAEC,cAAeC,aAAaC,QAAQ,YAIjDD,aAAaE,WAAW,SACxBF,aAAaE,WAAW,YAExBC,EAAAA,GAAUC,QAAQ,QAClBvB,EAAOe,KAAK,SACd,CAAE,MAAOS,GACPC,QAAQD,MAAM,QAASA,GAGvBL,aAAaE,WAAW,SACxBF,aAAaE,WAAW,YACxBrB,EAAOe,KAAK,SACd,CACF,E,o2EC/FF,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://tcr-system-frontend/./src/layouts/AdminLayout.vue","webpack://tcr-system-frontend/./src/layouts/AdminLayout.vue?4bb8"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <el-container class=\"layout-container\">\r\n    <el-aside width=\"200px\">\r\n      <el-menu\r\n        :router=\"true\"\r\n        :default-active=\"activeMenu\"\r\n        class=\"el-menu-vertical\"\r\n        background-color=\"#304156\"\r\n        text-color=\"#bfcbd9\"\r\n        active-text-color=\"#409EFF\"\r\n      >\r\n        <div class=\"logo-container\">\r\n          <h1 class=\"logo-text\">管理员端</h1>\r\n        </div>\r\n        <el-menu-item index=\"/admin/home\">\r\n          <el-icon><HomeFilled /></el-icon>\r\n          <span>首页</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/users\">\r\n          <el-icon><User /></el-icon>\r\n          <span>用户管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/courses\">\r\n          <el-icon><Reading /></el-icon>\r\n          <span>课程管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/material-review\">\r\n          <el-icon><Document /></el-icon>\r\n          <span>材料审核</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/admin/educational-admin\">\r\n          <el-icon><School /></el-icon>\r\n          <span>教务管理</span>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-header>\r\n        <div class=\"header-right\">\r\n          <el-dropdown @command=\"handleCommand\">\r\n            <span class=\"el-dropdown-link\">\r\n              {{ username }}\r\n              <el-icon class=\"el-icon--right\"><ArrowDown /></el-icon>\r\n            </span>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\r\n                <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      <el-main>\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport axios from 'axios'\r\nimport { HomeFilled, User, Reading, Document, ArrowDown, School } from '@element-plus/icons-vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst store = useStore()\r\n\r\nconst username = computed(() => store.state.user?.username || '管理员')\r\nconst activeMenu = computed(() => route.path)\r\n\r\nconst handleCommand = async (command) => {\r\n  if (command === 'profile') {\r\n    // 跳转到个人信息页面\r\n    router.push('/profile')\r\n  } else if (command === 'logout') {\r\n    try {\r\n      // 发送退出登录请求\r\n      await axios.post('/api/user/logout', null, {\r\n        headers: { Authorization: localStorage.getItem('token') }\r\n      })\r\n      \r\n      // 清除本地存储的用户信息和token\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('userInfo')\r\n      \r\n      ElMessage.success('退出成功')\r\n      router.push('/login')\r\n    } catch (error) {\r\n      console.error('退出失败:', error)\r\n      \r\n      // 即使请求失败，也清除本地存储并跳转到登录页\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('userInfo')\r\n      router.push('/login')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.layout-container {\r\n  height: 100vh;\r\n\r\n  .el-aside {\r\n    background-color: #304156;\r\n    \r\n    .logo-container {\r\n      height: 60px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      \r\n      .logo-text {\r\n        color: #fff;\r\n        font-size: 18px;\r\n        margin: 0;\r\n      }\r\n    }\r\n    \r\n    .el-menu {\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  .el-header {\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #dcdfe6;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    padding: 0 20px;\r\n\r\n    .header-right {\r\n      .el-dropdown-link {\r\n        cursor: pointer;\r\n        color: #409eff;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-main {\r\n    background-color: #f0f2f5;\r\n    padding: 20px;\r\n  }\r\n}\r\n</style> ","import script from \"./AdminLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminLayout.vue?vue&type=style&index=0&id=79154c9e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-79154c9e\"]])\n\nexport default __exports__"],"names":["router","useRouter","route","useRoute","store","useStore","username","computed","state","user","activeMenu","path","handleCommand","async","command","push","axios","headers","Authorization","localStorage","getItem","removeItem","ElMessage","success","error","console","__exports__"],"sourceRoot":""}